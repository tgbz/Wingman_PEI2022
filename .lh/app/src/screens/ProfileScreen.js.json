{
    "sourceFile": "app/src/screens/ProfileScreen.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 60,
            "patches": [
                {
                    "date": 1669629045649,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1669629087798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,20 +115,17 @@\n     return <Text> Sem acesso à galeria </Text>;\r\n   }\r\n \r\n   const handleUploadPhoto = () => {\r\n-    console.log(\"IN UPLOAD PHOYO...\");\r\n     console.log(\"handleUploadPhoto \" + JSON.stringify(photo));\r\n     fetch(`${serverURL}/files/avatar/`, {\r\n       method: \"POST\",\r\n       body: createFormData(photo, token.id),\r\n     })\r\n       .then((response) => {\r\n+        console.log(\"response\", response);\r\n         response.json();\r\n       })\r\n-      .then((response) => {\r\n-        console.log(\"response\", response);\r\n-      })\r\n       .catch((error) => {\r\n         console.log(\"error\", error);\r\n       });\r\n   };\r\n"
                },
                {
                    "date": 1669629103794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,8 +121,9 @@\n       method: \"POST\",\r\n       body: createFormData(photo, token.id),\r\n     })\r\n       .then((response) => {\r\n+        console.log(\"TEST\");\r\n         console.log(\"response\", response);\r\n         response.json();\r\n       })\r\n       .catch((error) => {\r\n"
                },
                {
                    "date": 1669629222778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,9 @@\n     return <Text> Sem acesso à galeria </Text>;\r\n   }\r\n \r\n   const handleUploadPhoto = () => {\r\n+    console.log(\"FDS\");\r\n     console.log(\"handleUploadPhoto \" + JSON.stringify(photo));\r\n     fetch(`${serverURL}/files/avatar/`, {\r\n       method: \"POST\",\r\n       body: createFormData(photo, token.id),\r\n"
                },
                {
                    "date": 1669629271281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,8 +26,9 @@\n     Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n   photo.name = photo.fileName;\r\n   data.append(\"avatarFile\", photo);\r\n   data.append(\"user\", user);\r\n+  console.log(\"FDS\");\r\n   console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n   /*\r\n   Object.keys(body).forEach((key) => {\r\n     console.log(\"Create form data: \"+key + \" \" + body[key])\r\n"
                },
                {
                    "date": 1669629285511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,8 @@\n     Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n   photo.name = photo.fileName;\r\n   data.append(\"avatarFile\", photo);\r\n   data.append(\"user\", user);\r\n-  console.log(\"FDS\");\r\n   console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n   /*\r\n   Object.keys(body).forEach((key) => {\r\n     console.log(\"Create form data: \"+key + \" \" + body[key])\r\n"
                },
                {
                    "date": 1669629641305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,22 @@\n \r\n   return data;\r\n };\r\n \r\n+const createFormData = (photo, user) => {\r\n+  const data = new FormData();\r\n+  var fixUri = Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n+  data.append('avatarFile', {\r\n+    name: photo.fileName,\r\n+    type: photo.type,\r\n+    uri: ')\r\n+}\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n export default function ProfileScreen({ navigation }) {\r\n   const { height } = useWindowDimensions();\r\n   const [token, setToken] = useState(\"\");\r\n   const [initData, setInitData] = useState(false);\r\n"
                },
                {
                    "date": 1669629717701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,20 +38,23 @@\n };\r\n \r\n const createFormData = (photo, user) => {\r\n   const data = new FormData();\r\n-  var fixUri = Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n-  data.append('avatarFile', {\r\n+  var fixUri =\r\n+    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n+  data.append(\"avatarFile\", {\r\n     name: photo.fileName,\r\n     type: photo.type,\r\n-    uri: ')\r\n-}\r\n+    uri: fixUri,\r\n+  });\r\n \r\n+  Object.keys(body).forEach((key) => {\r\n+    data.append(key, body[key]);\r\n+  });\r\n \r\n+  return data;\r\n+};\r\n \r\n-\r\n-\r\n-\r\n export default function ProfileScreen({ navigation }) {\r\n   const { height } = useWindowDimensions();\r\n   const [token, setToken] = useState(\"\");\r\n   const [initData, setInitData] = useState(false);\r\n"
                },
                {
                    "date": 1669629724103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n import { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\n import { CostumBackButton, CostumButton } from \"../components\";\r\n import * as ImagePicker from \"expo-image-picker\";\r\n \r\n-const createFormData = (photo, user) => {\r\n+/* const createFormData = (photo, user) => {\r\n   console.log(\r\n     \"Create form data: \" + JSON.stringify(photo) + \" \" + JSON.stringify(user)\r\n   );\r\n   const data = new FormData();\r\n@@ -34,9 +34,9 @@\n     data.append(key, body[key]);\r\n   });*/\r\n \r\n   return data;\r\n-};\r\n+}; */\r\n \r\n const createFormData = (photo, user) => {\r\n   const data = new FormData();\r\n   var fixUri =\r\n"
                },
                {
                    "date": 1669629731591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,9 @@\n   /*\r\n   Object.keys(body).forEach((key) => {\r\n     console.log(\"Create form data: \"+key + \" \" + body[key])\r\n     data.append(key, body[key]);\r\n-  });*/\r\n-\r\n+  });*\r\n   return data;\r\n }; */\r\n \r\n const createFormData = (photo, user) => {\r\n"
                },
                {
                    "date": 1669629756474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,27 +16,8 @@\n import { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\n import { CostumBackButton, CostumButton } from \"../components\";\r\n import * as ImagePicker from \"expo-image-picker\";\r\n \r\n-/* const createFormData = (photo, user) => {\r\n-  console.log(\r\n-    \"Create form data: \" + JSON.stringify(photo) + \" \" + JSON.stringify(user)\r\n-  );\r\n-  const data = new FormData();\r\n-  photo.path =\r\n-    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n-  photo.name = photo.fileName;\r\n-  data.append(\"avatarFile\", photo);\r\n-  data.append(\"user\", user);\r\n-  console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n-  /*\r\n-  Object.keys(body).forEach((key) => {\r\n-    console.log(\"Create form data: \"+key + \" \" + body[key])\r\n-    data.append(key, body[key]);\r\n-  });*\r\n-  return data;\r\n-}; */\r\n-\r\n const createFormData = (photo, user) => {\r\n   const data = new FormData();\r\n   var fixUri =\r\n     Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n"
                },
                {
                    "date": 1669629854603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,30 @@\n import { CostumBackButton, CostumButton } from \"../components\";\r\n import * as ImagePicker from \"expo-image-picker\";\r\n \r\n const createFormData = (photo, user) => {\r\n+  console.log(\r\n+    \"Create form data: \" + JSON.stringify(photo) + \" \" + JSON.stringify(user)\r\n+  );\r\n   const data = new FormData();\r\n+  photo.path =\r\n+    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n+  photo.name = photo.fileName;\r\n+  photo.type = photo.type;\r\n+  data.append(\"avatarFile\", photo);\r\n+  data.append(\"user\", user);\r\n+  console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n+  /*\r\n+  Object.keys(body).forEach((key) => {\r\n+    console.log(\"Create form data: \"+key + \" \" + body[key])\r\n+    data.append(key, body[key]);\r\n+  });*/\r\n+\r\n+  return data;\r\n+};\r\n+\r\n+const createFormData = (photo, user) => {\r\n+  const data = new FormData();\r\n   var fixUri =\r\n     Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n   data.append(\"avatarFile\", {\r\n     name: photo.fileName,\r\n"
                },
                {
                    "date": 1674927769678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,321 +6,302 @@\n   SafeAreaView,\r\n   Button,\r\n   StyleSheet,\r\n   Platform,\r\n-} from \"react-native\";\r\n-import React from \"react\";\r\n-import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n-import { COLORS, SHADOWS, SIZES } from \"../constants\";\r\n-import { useState, useEffect } from \"react\";\r\n-import { serverURL } from \"../config/hosts\";\r\n-import { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\n-import { CostumBackButton, CostumButton } from \"../components\";\r\n-import * as ImagePicker from \"expo-image-picker\";\r\n+  TouchableOpacity,\r\n+} from 'react-native'\r\n+import React from 'react'\r\n+import AuthContext from '../context/AuthProvider'\r\n+import AsyncStorage from '@react-native-async-storage/async-storage'\r\n+import { COLORS, SHADOWS, SIZES } from '../constants'\r\n+import { useState, useEffect } from 'react'\r\n+import { serverURL } from '../config/hosts'\r\n+import { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons'\r\n+import { CustomBackButton, CustomButton } from '../components'\r\n+import * as ImagePicker from 'expo-image-picker'\r\n+import { useRoute } from '@react-navigation/native'\r\n \r\n-const createFormData = (photo, user) => {\r\n-  console.log(\r\n-    \"Create form data: \" + JSON.stringify(photo) + \" \" + JSON.stringify(user)\r\n-  );\r\n-  const data = new FormData();\r\n-  photo.path =\r\n-    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n-  photo.name = photo.fileName;\r\n-  photo.type = photo.type;\r\n-  data.append(\"avatarFile\", photo);\r\n-  data.append(\"user\", user);\r\n-  console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n-  /*\r\n-  Object.keys(body).forEach((key) => {\r\n-    console.log(\"Create form data: \"+key + \" \" + body[key])\r\n-    data.append(key, body[key]);\r\n-  });*/\r\n+const createFormData = (pickedImage, user) => {\r\n+  console.log('Create form data: ' + JSON.stringify(pickedImage) + ' ' + JSON.stringify(user))\r\n+  const data = new FormData()\r\n+  console.log('plataforma: ' + Platform.OS)\r\n+  pickedImage.path =\r\n+    Platform.OS === 'ios' ? pickedImage.uri.replace('file://', '') : pickedImage.uri\r\n+  pickedImage.name = pickedImage.fileName\r\n+  data.append('avatarFile', pickedImage)\r\n+  data.append('user', user)\r\n+  console.log('\\nDATA FORM: ' + JSON.stringify(data))\r\n \r\n-  return data;\r\n-};\r\n \r\n-const createFormData = (photo, user) => {\r\n-  const data = new FormData();\r\n-  var fixUri =\r\n-    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n-  data.append(\"avatarFile\", {\r\n-    name: photo.fileName,\r\n-    type: photo.type,\r\n-    uri: fixUri,\r\n-  });\r\n+  return data\r\n+}\r\n \r\n-  Object.keys(body).forEach((key) => {\r\n-    data.append(key, body[key]);\r\n-  });\r\n+export default function ProfileScreen({ navigation }) {\r\n+  const { signOut } = React.useContext(AuthContext)\r\n+  const { width } = useWindowDimensions()\r\n+  const [token, setToken] = useState('')\r\n+  const [initData, setInitData] = useState(false)\r\n \r\n-  return data;\r\n-};\r\n-\r\n-export default function ProfileScreen({ navigation }) {\r\n-  const { height } = useWindowDimensions();\r\n-  const [token, setToken] = useState(\"\");\r\n-  const [initData, setInitData] = useState(false);\r\n   useEffect(() => {\r\n-    AsyncStorage.getItem(\"userToken\")\r\n+    AsyncStorage.getItem('userToken')\r\n       .then((userToken) => setToken(JSON.parse(userToken)))\r\n-      .catch((err) => console.log(err));\r\n-  }, []);\r\n+      .catch((err) => console.log(err))\r\n+  }, [])\r\n \r\n-  const [data, setData] = useState([]);\r\n+  const [data, setData] = useState([])\r\n   const fetchData = async (token) => {\r\n     //console.log(serverURL + '/users/userProfile/' + token.id)\r\n-    const resp = await fetch(`${serverURL}/users/userProfile/${token.id}`);\r\n-    const data = await resp.json();\r\n-    console.log(\"User fetch data: \" + JSON.stringify(data));\r\n-    setData(data);\r\n+    const resp = await fetch(`${serverURL}/users/userProfile/${token.id}`)\r\n+    const data = await resp.json()\r\n+    console.log('User fetch data: ' + JSON.stringify(data))\r\n+    setData(data)\r\n+    // console log time at the moment of the fetch\r\n \r\n-    const resp_img = await fetch(`${serverURL}/files/avatar/${token.id}`);\r\n-    const img = resp_img.url;\r\n-    console.log(\"User fetch img: \" + JSON.stringify(img));\r\n-    setPhoto(img);\r\n-  };\r\n+    const img = await fetch(`${serverURL}/files/avatar/${token.id}`)\r\n+    //console.log('Time: ' + new Date().toLocaleTimeString())\r\n+    console.log('User fetch img: ' + JSON.stringify(img.url))\r\n+    setPhoto(img.url)\r\n+  }\r\n   // request data from server\r\n   useEffect(() => {\r\n-    console.log(\"Entered useEffect\" + token.id);\r\n+    console.log('Entered useEffect: ' + JSON.stringify(token) + '\\n')\r\n     if (token.id) {\r\n-      fetchData(token);\r\n+      fetchData(token)\r\n     }\r\n-  }, [token]);\r\n+  }, [token])\r\n \r\n   function getMonthName(month) {\r\n-    const d = new Date();\r\n-    d.setMonth(month - 1);\r\n-    const monthName = d.toLocaleString(\"pt-PT\", { month: \"long\" });\r\n-    return monthName;\r\n+    const d = new Date()\r\n+    d.setMonth(month - 1)\r\n+    const monthName = d.toLocaleString('pt-PT', { month: 'long' })\r\n+    return monthName\r\n   }\r\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n   function handleData(data) {\r\n-    const date = new Date(data);\r\n-    const day = date.getDate();\r\n-    const month = date.getMonth() + 1;\r\n-    const year = date.getFullYear();\r\n-    const newDate = day + \" de \" + getMonthName(month) + \" de \" + year;\r\n-    return newDate;\r\n+    const date = new Date(data)\r\n+    const day = date.getDate()\r\n+    const month = date.getMonth() + 1\r\n+    const year = date.getFullYear()\r\n+    const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n+    return newDate\r\n   }\r\n \r\n-  const [photo, setPhoto] = React.useState(null);\r\n-  const [hasGalleryPermission, setHasGalleryPermission] = React.useState(null);\r\n-  const [toupload, setToUpload] = React.useState(false);\r\n+  const [photo, setPhoto] = React.useState(null)\r\n+  const [hasGalleryPermission, setHasGalleryPermission] = React.useState(null)\r\n+  const [pickedImage, setPickedImage] = React.useState(null)\r\n   // use effect to get permission to access gallery\r\n   React.useEffect(() => {\r\n-    (async () => {\r\n-      const galleryStatus =\r\n-        await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n-      setHasGalleryPermission(galleryStatus.status === \"granted\");\r\n-    })();\r\n-  }, []);\r\n+    ;(async () => {\r\n+      const galleryStatus = await ImagePicker.requestMediaLibraryPermissionsAsync()\r\n+      setHasGalleryPermission(galleryStatus.status === 'granted')\r\n+    })()\r\n+  }, [])\r\n \r\n   const handleChoosePhoto = async () => {\r\n     let result = await ImagePicker.launchImageLibraryAsync({\r\n       mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n       allowsEditing: true,\r\n       aspect: [4, 3],\r\n       quality: 1,\r\n-    });\r\n-    console.log(\"result handleChoosePhoto: \" + JSON.stringify(result));\r\n+    })\r\n+    console.log('Picked Image: ' + JSON.stringify(result))\r\n     if (!result.cancelled) {\r\n       //handleUploadPhoto()\r\n       //setToUpload(true)\r\n-      setPhoto(result);\r\n+      setPhoto(result.uri)\r\n+      setPickedImage(result)\r\n     }\r\n-  };\r\n+  }\r\n \r\n   if (hasGalleryPermission === false) {\r\n-    return <Text> Sem acesso à galeria </Text>;\r\n+    return <Text> Sem acesso à galeria </Text>\r\n   }\r\n \r\n   const handleUploadPhoto = () => {\r\n-    console.log(\"FDS\");\r\n-    console.log(\"handleUploadPhoto \" + JSON.stringify(photo));\r\n+    console.log('handleUploadPhoto ' + JSON.stringify(pickedImage))\r\n     fetch(`${serverURL}/files/avatar/`, {\r\n-      method: \"POST\",\r\n-      body: createFormData(photo, token.id),\r\n+      method: 'POST',\r\n+      body: createFormData(pickedImage, token.id),\r\n     })\r\n       .then((response) => {\r\n-        console.log(\"TEST\");\r\n-        console.log(\"response\", response);\r\n-        response.json();\r\n+        response.json()\r\n       })\r\n+      .then((response) => {\r\n+        console.log('response', response)\r\n+      })\r\n       .catch((error) => {\r\n-        console.log(\"error\", error);\r\n-      });\r\n-  };\r\n+        console.log('error', error)\r\n+      })\r\n+  }\r\n \r\n-  /* useEffect photo\r\n-  useEffect(() => {\r\n-    if (photo!=null){\r\n-      console.log('Entered useEffect photo')\r\n-      setInitData(true)\r\n+  //  every time there is a picked image, upload it to the server\r\n+  React.useEffect(() => {\r\n+    console.log('useEffect image picked')\r\n+    if (pickedImage) {\r\n+      handleUploadPhoto()\r\n     }\r\n-  }, [photo])\r\n+  }, [pickedImage])\r\n \r\n+  // every time route.params is true when user edits profile, refresh data\r\n+  const route = useRoute()\r\n   useEffect(() => {\r\n-    if (toupload) {\r\n-      //handleUploadPhoto()\r\n-      setToUpload(false)\r\n+    // dont do shit if route.params is undefined\r\n+    if (route.params) {\r\n+      // se nao for undefined\r\n+      if (route.params.refresh) {\r\n+        // se for true\r\n+        console.log('Entered useEffect route.params')\r\n+        fetchData(token)\r\n+        console.log(typeof route.params.refresh)\r\n+        // set route.params.refresh to false\r\n+        route.params.refresh = false\r\n+      }\r\n     }\r\n-  }, [toupload])\r\n+  }, [route.params])\r\n \r\n-  // init data\r\n-  useEffect(() => {\r\n-    console.log('Init data: ' + initData)\r\n-  }, [initData])*/\r\n-\r\n   return (\r\n-    //console.log(\"--------------\\nToken data: \"+ JSON.stringify(token) + \"\\n--------------\"),\r\n-    // if dataInit is false, show loading\r\n-    // !initData ? (\r\n-    //   <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n-    //     <Text>Loading...</Text>\r\n-    //   </View>\r\n-    //) : (\r\n-    <SafeAreaView style={styles.root}>\r\n-      {/*<Image source={{uri: 'https://reactjs.org/logo-og.png'}}\r\n-       style={{width: 400, height: 400}} />*/}\r\n-      <View style={styles.navigationBar}>\r\n-        <CostumBackButton onPress={() => navigation.goBack()} />\r\n-        <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n-      </View>\r\n-      {photo && (\r\n-        <>\r\n-          <Button title=\"Upload Photo\" onPress={() => handleUploadPhoto()} />\r\n-        </>\r\n-      )}\r\n-\r\n-      {/*\r\n-        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n-          \r\n-          <Button title=\"Choose Photo\" onPress={() => handleChoosePhoto()} />\r\n-          {photo && (\r\n-            <>\r\n-              {console.log(JSON.stringify(photo))}\r\n-              \r\n-             \r\n-              <Image source={{ uri: photo.uri }} style={styles.profileImage} />\r\n-               <Image source={{ uri: photo.uri }} style={{ width: 300, height: 300 }} /> \r\n-              <Button title=\"Upload Photo\" onPress={() => handleUploadPhoto()} /> \r\n-            </>\r\n-          )}\r\n+    // console log params from edit screen\r\n+    console.log('Params: ' + JSON.stringify(route.params)),\r\n+    (\r\n+      //console.log(\"--------------\\nToken data: \"+ JSON.stringify(token) + \"\\n--------------\"),\r\n+      // if dataInit is false, show loading\r\n+      // !initData ? (\r\n+      //   <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n+      //     <Text>Loading...</Text>\r\n+      //   </View>\r\n+      //) : (\r\n+      <SafeAreaView style={styles.root}>\r\n+        {/* Header \r\n+        <View style={styles.navigationBar}>\r\n+          <CustomBackButton onPress={() => navigation.goBack()} />\r\n+          <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n- */}\r\n+        */}\r\n+        <View style={{ alignSelf: 'center', marginTop: 30 }}>\r\n+          <View style={styles.profileImage}>\r\n+            {photo ? (\r\n+              (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n+              (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n+            ) : data.gender == 0 ? ( // man\r\n+              <Image\r\n+                source={require('../../assets/images/male-avatar.png')}\r\n+                style={styles.image}\r\n+                resizeMode=\"center\"\r\n+              ></Image>\r\n+            ) : data.gender == 1 ? (\r\n+              <Image\r\n+                source={require('../../assets/images/female-avatar.png')}\r\n+                style={styles.image}\r\n+                resizeMode=\"center\"\r\n+              ></Image>\r\n+            ) : (\r\n+              <Image\r\n+                source={require('../../assets/images/other-avatar.png')}\r\n+                style={styles.image}\r\n+                resizeMode=\"center\"\r\n+              ></Image>\r\n+            )}\r\n+          </View>\r\n+          <View style={styles.addAvatar}>\r\n+            <MaterialCommunityIcons\r\n+              name=\"pencil-circle\"\r\n+              size={48}\r\n+              color={COLORS.wingDarkBlue}\r\n+              onPress={() => handleChoosePhoto()}\r\n+            />\r\n+          </View>\r\n+        </View>\r\n \r\n-      <View style={{ alignSelf: \"center\" }}>\r\n-        <View style={styles.profileImage}>\r\n-          {photo ? (\r\n-            <Image source={{ uri: photo }} style={styles.profileImage} />\r\n-          ) : data.gender == 0 ? ( // man\r\n-            <Image\r\n-              source={require(\"../../assets/images/male-avatar.png\")}\r\n-              style={styles.image}\r\n-              resizeMode=\"center\"\r\n-            ></Image>\r\n-          ) : (\r\n-            <Image\r\n-              source={require(\"../../assets/images/female-avatar.png\")}\r\n-              style={styles.image}\r\n-              resizeMode=\"center\"\r\n-            ></Image>\r\n-          )}\r\n+        <View style={styles.nameContainer}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.extraLarge }}>\r\n+            {data ? data.name : 'Loading...'}\r\n+          </Text>\r\n         </View>\r\n-        {/* TO DO EDIT PICTURE*/}\r\n-        <View style={styles.addAvatar}>\r\n-          <MaterialCommunityIcons\r\n-            name=\"pencil-circle\"\r\n-            size={48}\r\n-            color={COLORS.wingDarkBlue}\r\n-            onPress={() => handleChoosePhoto()}\r\n-          />\r\n-        </View>\r\n-      </View>\r\n \r\n-      <View style={styles.nameContainer}>\r\n-        <Text style={{ fontFamily: \"SoraLight\", fontSize: SIZES.extraLarge }}>\r\n-          {data ? data.name : \"Loading...\"}\r\n-        </Text>\r\n-      </View>\r\n+        <View style={styles.infoContainer}>\r\n+          <View style={styles.infoLine}>\r\n+            <View style={styles.col1}>\r\n+              <Text style={styles.textTag}>Email</Text>\r\n+            </View>\r\n+            <View style={styles.col2}>\r\n+              <Text style={styles.textInfo}>{data ? data.email : 'Loading...'}</Text>\r\n+            </View>\r\n \r\n-      <View style={styles.infoContainer}>\r\n-        <View style={styles.infoLine}>\r\n-          <View style={styles.col1}>\r\n-            <Text style={styles.textTag}>Email</Text>\r\n-          </View>\r\n-          <View style={styles.col2}>\r\n-            <Text style={styles.textInfo}>\r\n-              {data ? data.email : \"Loading...\"}\r\n-            </Text>\r\n-          </View>\r\n+            <View style={styles.col1}>\r\n+              <Text style={styles.textTag}>Password</Text>\r\n+            </View>\r\n+            <View style={styles.col2}>\r\n+              <Text style={styles.textInfo}>{data ? '.........' : 'Loading...'}</Text>\r\n+            </View>\r\n \r\n-          <View style={styles.col1}>\r\n-            <Text style={styles.textTag}>Password</Text>\r\n-          </View>\r\n-          <View style={styles.col2}>\r\n-            <Text style={styles.textInfo}>\r\n-              {data ? \".........\" : \"Loading...\"}\r\n-            </Text>\r\n-          </View>\r\n+            <View style={styles.col1}>\r\n+              <Text style={styles.textTag}>Aniversário</Text>\r\n+            </View>\r\n+            <View style={styles.col2}>\r\n+              <Text style={styles.textInfo}>\r\n+                {data ? handleData(data.birthdate) : 'Loading...'}\r\n+              </Text>\r\n+            </View>\r\n \r\n-          <View style={styles.col1}>\r\n-            <Text style={styles.textTag}>Aniversário</Text>\r\n+            <View style={styles.col1}>\r\n+              <Text style={styles.textTag}>Género</Text>\r\n+            </View>\r\n+            <View style={styles.col2}>\r\n+              <Text style={styles.textInfo}>\r\n+                {data\r\n+                  ? data.gender == 0\r\n+                    ? 'Masculino'\r\n+                    : data.gender == 1\r\n+                    ? 'Feminino'\r\n+                    : 'Outro'\r\n+                  : 'Loading...'}\r\n+              </Text>\r\n+            </View>\r\n           </View>\r\n-          <View style={styles.col2}>\r\n-            <Text style={styles.textInfo}>\r\n-              {data ? handleData(data.birthdate) : \"Loading...\"}\r\n-            </Text>\r\n-          </View>\r\n+        </View>\r\n \r\n-          <View style={styles.col1}>\r\n-            <Text style={styles.textTag}>Género</Text>\r\n-          </View>\r\n-          <View style={styles.col2}>\r\n-            <Text style={styles.textInfo}>\r\n-              {data\r\n-                ? data.gender == 0\r\n-                  ? \"Masculino\"\r\n-                  : \"Feminino\"\r\n-                : \"Loading...\"}\r\n-            </Text>\r\n-          </View>\r\n+        <View style={styles.containerBTN}>\r\n+          <CustomButton\r\n+            onPress={() => navigation.navigate('ProfileEdit')}\r\n+            text=\"Editar Perfil\"\r\n+            type=\"TERTIARY\"\r\n+            widthScale={0.7}\r\n+          ></CustomButton>\r\n+          <CustomButton\r\n+            onPress={() => navigation.navigate('PassEdit')}\r\n+            text=\"Alterar Password\"\r\n+            type=\"TERTIARY\"\r\n+            widthScale={0.8}\r\n+          ></CustomButton>\r\n+          <CustomButton\r\n+            onPress={() => navigation.navigate('Accounts')}\r\n+            text=\"Minhas Contas\"\r\n+            type=\"TERTIARY\"\r\n+            widthScale={0.8}\r\n+          ></CustomButton>\r\n+          {/*Make a button with an icon for log out  */}\r\n+          <TouchableOpacity onPress={() => signOut()}>\r\n+            <View style={[styles.buttonContainer, { width: width * 0.8 }]}>\r\n+              <MaterialCommunityIcons name=\"logout\" size={16} color={COLORS.wingDarkBlue} />\r\n+              <Text style={styles.logOutText}>Log Out</Text>\r\n+            </View>\r\n+          </TouchableOpacity>\r\n         </View>\r\n-      </View>\r\n-\r\n-      <View style={styles.containerBTN}>\r\n-        {/*\r\n-            <TouchableOpacity onPress={() => navigation.navigate(\"ProfileEdit\")} style={[styles.button,{height: height*0.05}]}>\r\n-                <Text style={styles.buttonText}>Editar Perfil</Text>\r\n-            </TouchableOpacity> \r\n-            */}\r\n-        <CostumButton\r\n-          onPress={() => navigation.navigate(\"ProfileEdit\")}\r\n-          text=\"Editar Perfil\"\r\n-          type=\"TERTIARY\"\r\n-          widthScale={0.8}\r\n-        ></CostumButton>\r\n-        <CostumButton\r\n-          onPress={() => navigation.navigate(\"PassEdit\")}\r\n-          text=\"Alterar Password\"\r\n-          type=\"TERTIARY\"\r\n-          widthScale={0.8}\r\n-        ></CostumButton>\r\n-      </View>\r\n-    </SafeAreaView>\r\n-  );\r\n+      </SafeAreaView>\r\n+    )\r\n+  )\r\n   //)\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n   root: {\r\n     flex: 1,\r\n-    backgroundColor: COLORS.white,\r\n+    backgroundColor: COLORS.eggshell,\r\n   },\r\n   navigationBar: {\r\n     // in case i wanto to add a button in the right side\r\n-    flexDirection: \"row\",\r\n-    justifyContent: \"space-between\",\r\n+    flexDirection: 'row',\r\n+    justifyContent: 'space-between',\r\n     marginTop: 10,\r\n     marginHorizontal: 10,\r\n     marginBottom: 10,\r\n   },\r\n@@ -329,92 +310,102 @@\n     width: undefined,\r\n     height: undefined,\r\n   },\r\n   pageTitle: {\r\n-    fontFamily: \"SoraMedium\",\r\n+    fontFamily: 'SoraMedium',\r\n     fontSize: SIZES.medium,\r\n     color: COLORS.wingDarkBlue,\r\n     // center the text\r\n-    alignSelf: \"center\",\r\n+    alignSelf: 'center',\r\n     // center the text horizontally\r\n     flex: 1,\r\n-    textAlign: \"center\",\r\n+    textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n     width: 200,\r\n     height: 200,\r\n     borderRadius: 100,\r\n-    overflow: \"hidden\",\r\n+    overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n     backgroundColor: COLORS.white,\r\n-    position: \"absolute\",\r\n+    position: 'absolute',\r\n     bottom: 5,\r\n     right: 1,\r\n     height: 50,\r\n     width: 50,\r\n     borderRadius: 30,\r\n-    alignItems: \"center\",\r\n-    justifyContent: \"center\",\r\n+    alignItems: 'center',\r\n+    justifyContent: 'center',\r\n   },\r\n   nameContainer: {\r\n-    alignSelf: \"center\",\r\n-    alignItems: \"center\",\r\n+    alignSelf: 'center',\r\n+    alignItems: 'center',\r\n     marginTop: 16,\r\n   },\r\n   infoContainer: {\r\n     marginHorizontal: 40,\r\n-    marginTop: 40,\r\n-    marginBottom: 40,\r\n+    marginTop: '7%',\r\n+    marginBottom: '7%',\r\n   },\r\n   textTag: {\r\n-    fontFamily: \"SoraBold\",\r\n+    fontFamily: 'SoraBold',\r\n     fontSize: SIZES.medium,\r\n     color: COLORS.wingDarkBlue,\r\n   },\r\n   textInfo: {\r\n     //marginLeft: 30,\r\n-    fontFamily: \"SoraLight\",\r\n+    fontFamily: 'SoraLight',\r\n     fontSize: SIZES.medium,\r\n   },\r\n   infoLine: {\r\n-    flexDirection: \"row\",\r\n-    flexWrap: \"wrap\",\r\n-    alignItems: \"flex-start\", // if you want to fill rows left to right\r\n+    flexDirection: 'row',\r\n+    flexWrap: 'wrap',\r\n+    alignItems: 'flex-start', // if you want to fill rows left to right\r\n   },\r\n   col1: {\r\n-    width: \"40%\",\r\n+    width: '40%',\r\n     marginBottom: 20,\r\n   },\r\n   col2: {\r\n-    width: \"60%\",\r\n+    width: '60%',\r\n     marginBottom: 20,\r\n   },\r\n   button: {\r\n     backgroundColor: COLORS.wingDarkBlue,\r\n     borderRadius: SIZES.small,\r\n-    alignItems: \"center\",\r\n-    justifyContent: \"center\",\r\n+    alignItems: 'center',\r\n+    justifyContent: 'center',\r\n     marginBottom: SIZES.base,\r\n-    width: \"40%\",\r\n-    height: \"80%\",\r\n+    width: '40%',\r\n+    height: '80%',\r\n   },\r\n   containerBTN: {\r\n-    // Put the buttons at the bottom of the screen\r\n-    //position: 'absolute',\r\n-    //alignItems: \"center\",\r\n-    //justifyContent: \"center\",\r\n-    //bottom: \"10%\",\r\n-    //width: \"100%\",\r\n-    //  on the vertical center\r\n-    flex: 1,\r\n-    //justifyContent: 'center',\r\n-    alignItems: \"center\",\r\n-    marginHorizontal: 30,\r\n+    // Put the buttons if there is space 2mm after infoContainer\r\n+\r\n+    // center the buttons\r\n+    alignItems: 'center',\r\n+    justifyContent: 'center',\r\n   },\r\n   buttonText: {\r\n-    color: \"white\",\r\n+    color: 'white',\r\n     fontSize: SIZES.small,\r\n-    fontFamily: \"SoraBold\",\r\n+    fontFamily: 'SoraBold',\r\n   },\r\n-});\r\n+  buttonContainer: {\r\n+    flexDirection: 'row',\r\n+    alignItems: 'center',\r\n+    justifyContent: 'center',\r\n+    borderWidth: 1,\r\n+    borderColor: COLORS.wingDarkBlue,\r\n+    padding: '3.6%',\r\n+    borderRadius: SIZES.small,\r\n+    marginVertical: '1%',\r\n+  },\r\n+  logOutText: {\r\n+    marginLeft: 8,\r\n+    color: COLORS.wingDarkBlue,\r\n+    fontSize: SIZES.small,\r\n+    fontFamily: 'SoraMedium',\r\n+  },\r\n+})\r\n"
                },
                {
                    "date": 1674927925095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -263,9 +263,9 @@\n           <CustomButton\r\n             onPress={() => navigation.navigate('ProfileEdit')}\r\n             text=\"Editar Perfil\"\r\n             type=\"TERTIARY\"\r\n-            widthScale={0.7}\r\n+            widthScale={0.8}\r\n           ></CustomButton>\r\n           <CustomButton\r\n             onPress={() => navigation.navigate('PassEdit')}\r\n             text=\"Alterar Password\"\r\n@@ -321,10 +321,10 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n-    width: 200,\r\n-    height: 200,\r\n+    width: 180,\r\n+    height: 180,\r\n     borderRadius: 100,\r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n"
                },
                {
                    "date": 1674927974760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n     marginBottom: '7%',\r\n   },\r\n   textTag: {\r\n     fontFamily: 'SoraBold',\r\n-    fontSize: SIZES.medium,\r\n+    fontSize: SIZES.small,\r\n     color: COLORS.wingDarkBlue,\r\n   },\r\n   textInfo: {\r\n     //marginLeft: 30,\r\n"
                },
                {
                    "date": 1674927981266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,9 +355,9 @@\n   },\r\n   textInfo: {\r\n     //marginLeft: 30,\r\n     fontFamily: 'SoraLight',\r\n-    fontSize: SIZES.medium,\r\n+    fontSize: SIZES.small,\r\n   },\r\n   infoLine: {\r\n     flexDirection: 'row',\r\n     flexWrap: 'wrap',\r\n"
                },
                {
                    "date": 1674928000877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n     marginBottom: '7%',\r\n   },\r\n   textTag: {\r\n     fontFamily: 'SoraBold',\r\n-    fontSize: SIZES.small,\r\n+    fontSize: SIZES.font,\r\n     color: COLORS.wingDarkBlue,\r\n   },\r\n   textInfo: {\r\n     //marginLeft: 30,\r\n"
                },
                {
                    "date": 1674932987242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n           <CustomBackButton onPress={() => navigation.goBack()} />\r\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n-        <View style={{ alignSelf: 'center', marginTop: 30 }}>\r\n+        <View style={{ alignSelf: 'center', marginTop: 20 }}>\r\n           <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n@@ -355,9 +355,9 @@\n   },\r\n   textInfo: {\r\n     //marginLeft: 30,\r\n     fontFamily: 'SoraLight',\r\n-    fontSize: SIZES.small,\r\n+    fontSize: SIZES.font,\r\n   },\r\n   infoLine: {\r\n     flexDirection: 'row',\r\n     flexWrap: 'wrap',\r\n"
                },
                {
                    "date": 1674932995120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n           <CustomBackButton onPress={() => navigation.goBack()} />\r\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n-        <View style={{ alignSelf: 'center', marginTop: 20 }}>\r\n+        <View style={{ alignSelf: 'center', marginTop: 25 }}>\r\n           <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n"
                },
                {
                    "date": 1674933001222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n           <CustomBackButton onPress={() => navigation.goBack()} />\r\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n-        <View style={{ alignSelf: 'center', marginTop: 25 }}>\r\n+        <View style={{ alignSelf: 'center', marginTop: 18 }}>\r\n           <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n"
                },
                {
                    "date": 1674933021564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n   SafeAreaView,\r\n   Button,\r\n   StyleSheet,\r\n   Platform,\r\n+  StatusBar,\r\n   TouchableOpacity,\r\n } from 'react-native'\r\n import React from 'react'\r\n import AuthContext from '../context/AuthProvider'\r\n"
                },
                {
                    "date": 1674933030810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,8 +296,9 @@\n const styles = StyleSheet.create({\r\n   root: {\r\n     flex: 1,\r\n     backgroundColor: COLORS.eggshell,\r\n+    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\r\n   },\r\n   navigationBar: {\r\n     // in case i wanto to add a button in the right side\r\n     flexDirection: 'row',\r\n"
                },
                {
                    "date": 1674933040540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,9 +176,9 @@\n           <CustomBackButton onPress={() => navigation.goBack()} />\r\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n-        <View style={{ alignSelf: 'center', marginTop: 18 }}>\r\n+        <View style={{ alignSelf: 'center'}}>\r\n           <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n"
                },
                {
                    "date": 1674933051972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,9 +296,9 @@\n const styles = StyleSheet.create({\r\n   root: {\r\n     flex: 1,\r\n     backgroundColor: COLORS.eggshell,\r\n-    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\r\n+    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight-1 : 0,\r\n   },\r\n   navigationBar: {\r\n     // in case i wanto to add a button in the right side\r\n     flexDirection: 'row',\r\n"
                },
                {
                    "date": 1674933073833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,9 +296,9 @@\n const styles = StyleSheet.create({\r\n   root: {\r\n     flex: 1,\r\n     backgroundColor: COLORS.eggshell,\r\n-    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight-1 : 0,\r\n+    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\r\n   },\r\n   navigationBar: {\r\n     // in case i wanto to add a button in the right side\r\n     flexDirection: 'row',\r\n"
                },
                {
                    "date": 1674933083152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -323,10 +323,10 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n-    width: 180,\r\n-    height: 180,\r\n+    width: 170,\r\n+    height: 170,\r\n     borderRadius: 100,\r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n"
                },
                {
                    "date": 1674933158708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={styles.profileImage}>\r\n+          <View style={[styles.profileImage, {width: width*.1 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n@@ -323,10 +323,8 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n-    width: 170,\r\n-    height: 170,\r\n     borderRadius: 100,\r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n"
                },
                {
                    "date": 1674933165247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*.1 }]}>\r\n+          <View style={[styles.profileImage, {width: width*100 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933173414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*100 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.4 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933196150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n }\r\n \r\n export default function ProfileScreen({ navigation }) {\r\n   const { signOut } = React.useContext(AuthContext)\r\n-  const { width } = useWindowDimensions()\r\n+  const { width, height } = useWindowDimensions()\r\n   const [token, setToken] = useState('')\r\n   const [initData, setInitData] = useState(false)\r\n \r\n   useEffect(() => {\r\n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.4 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.01, height: height }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933207999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.01, height: height }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.01, height: height*0.1 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933214814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.01, height: height*0.1 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.2, height: height*0.2 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933222125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.2, height: height*0.2 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.17, height: height*0.2 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933228306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.17, height: height*0.2 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.17, height: height*0.17 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933234639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.17, height: height*0.17 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933262762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27,  borderRadius: 100, }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n@@ -323,9 +323,9 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n-    borderRadius: 100,\r\n+   \r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n     backgroundColor: COLORS.white,\r\n"
                },
                {
                    "date": 1674933269130,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27,  borderRadius: 100, }]}>\r\n+          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n@@ -323,9 +323,9 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n-   \r\n+    borderRadius: 100,\r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n     backgroundColor: COLORS.white,\r\n"
                },
                {
                    "date": 1674933310742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,12 +177,12 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n+          <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n-              (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n+              (<Image source={{ uri: photo }} style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]} />))\r\n             ) : data.gender == 0 ? ( // man\r\n               <Image\r\n                 source={require('../../assets/images/male-avatar.png')}\r\n                 style={styles.image}\r\n"
                },
                {
                    "date": 1674933331586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -177,9 +177,9 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={styles.profileImage}>\r\n+          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n               (<Image source={{ uri: photo }} style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]} />))\r\n             ) : data.gender == 0 ? ( // man\r\n"
                },
                {
                    "date": 1674933368917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n }\r\n \r\n export default function ProfileScreen({ navigation }) {\r\n   const { signOut } = React.useContext(AuthContext)\r\n-  const { width, height } = useWindowDimensions()\r\n+  const { width } = useWindowDimensions()\r\n   const [token, setToken] = useState('')\r\n   const [initData, setInitData] = useState(false)\r\n \r\n   useEffect(() => {\r\n@@ -177,12 +177,12 @@\n           <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n         </View>\r\n         */}\r\n         <View style={{ alignSelf: 'center'}}>\r\n-          <View style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]}>\r\n+          <View style={styles.profileImage}>\r\n             {photo ? (\r\n               (console.log('I have photo!! ' + JSON.stringify(photo)),\r\n-              (<Image source={{ uri: photo }} style={[styles.profileImage, {width: width*0.27, height: height*0.27 }]} />))\r\n+              (<Image source={{ uri: photo }} style={styles.profileImage} />))\r\n             ) : data.gender == 0 ? ( // man\r\n               <Image\r\n                 source={require('../../assets/images/male-avatar.png')}\r\n                 style={styles.image}\r\n@@ -323,8 +323,10 @@\n     textAlign: 'center',\r\n     right: 20,\r\n   },\r\n   profileImage: {\r\n+    width: 170,\r\n+    height: 170,\r\n     borderRadius: 100,\r\n     overflow: 'hidden',\r\n   },\r\n   addAvatar: {\r\n"
                },
                {
                    "date": 1674933395896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.extraLarge }}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933418911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.large }}>\r\n+          <Text style={{ fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933434849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n+          <Text style={{ paddingTop: 10%, fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933441908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ paddingTop: 10%, fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n+          <Text style={{ paddingTop: \"10%\", fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933447118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ paddingTop: \"10%\", fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n+          <Text style={{ paddingTop: \"5%\", fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933465137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ paddingTop: \"5%\", fontFamily: 'SoraMedium', fontSize: SIZES.large }}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.large }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933471774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.large }}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.extraLarge }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933479686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: SIZES.extraLarge }}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: 34 }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933484924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: 34 }}>\r\n+          <Text style={{ fontFamily: 'SoraLight', fontSize: 26 }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933492324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraLight', fontSize: 26 }}>\r\n+          <Text style={{ fontFamily: 'SoraMedium', fontSize: 26 }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933568753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.nameContainer}>\r\n-          <Text style={{ fontFamily: 'SoraMedium', fontSize: 26 }}>\r\n+          <Text style={{ fontFamily: 'SoraRegular', fontSize: 26 }}>\r\n             {data ? data.name : 'Loading...'}\r\n           </Text>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1674933633445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,9 @@\n     const date = new Date(data)\r\n     const day = date.getDate()\r\n     const month = date.getMonth() + 1\r\n     const year = date.getFullYear()\r\n+    console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n     return newDate\r\n   }\r\n \r\n"
                },
                {
                    "date": 1674933641729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n   function handleData(data) {\r\n     const date = new Date(data)\r\n     const day = date.getDate()\r\n-    const month = date.getMonth() + 1\r\n+    const month = date.getMonth()\r\n     const year = date.getFullYear()\r\n     console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n     return newDate\r\n"
                },
                {
                    "date": 1674933682257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,10 +78,11 @@\n   }\r\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n   function handleData(data) {\r\n     const date = new Date(data)\r\n-    const day = date.getDate()\r\n-    const month = date.getMonth()\r\n+    //get day number\r\n+    const day = date.getDate().toString()\r\n+    const month = date.getMonth() + 1\r\n     const year = date.getFullYear()\r\n     console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n     return newDate\r\n"
                },
                {
                    "date": 1674933687387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n   function handleData(data) {\r\n     const date = new Date(data)\r\n     //get day number\r\n-    const day = date.getDate().toString()\r\n+    const day = date.getDate()\r\n     const month = date.getMonth() + 1\r\n     const year = date.getFullYear()\r\n     console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n"
                },
                {
                    "date": 1674933692638,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n   function handleData(data) {\r\n     const date = new Date(data)\r\n     //get day number\r\n-    const day = date.getDate()\r\n+    const day = date.getDate().toString()\r\n     const month = date.getMonth() + 1\r\n     const year = date.getFullYear()\r\n     console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n"
                },
                {
                    "date": 1674933728225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,10 +80,12 @@\n   function handleData(data) {\r\n     const date = new Date(data)\r\n     //get day number\r\n     const day = date.getDate().toString()\r\n+    //Get the month name in portuguese\r\n     const month = date.getMonth() + 1\r\n-    const year = date.getFullYear()\r\n+    //get year\r\n+    const year = date.getFullYear().toString()\r\n     console.log(month)\r\n     const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n     return newDate\r\n   }\r\n"
                },
                {
                    "date": 1674933750037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,9 @@\n     const month = date.getMonth() + 1\r\n     //get year\r\n     const year = date.getFullYear().toString()\r\n     console.log(month)\r\n-    const newDate = day + ' de ' + getMonthName(month) + ' de ' + year\r\n+    const newDate = day + ' de ' + (month) + ' de ' + year\r\n     return newDate\r\n   }\r\n \r\n   const [photo, setPhoto] = React.useState(null)\r\n"
                },
                {
                    "date": 1674933775453,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,14 +80,16 @@\n   function handleData(data) {\r\n     const date = new Date(data)\r\n     //get day number\r\n     const day = date.getDate().toString()\r\n-    //Get the month name in portuguese\r\n+    //Get the month name in portuguese, the name\r\n     const month = date.getMonth() + 1\r\n+    const monthName = getMonthName(month)\r\n+\r\n     //get year\r\n     const year = date.getFullYear().toString()\r\n     console.log(month)\r\n-    const newDate = day + ' de ' + (month) + ' de ' + year\r\n+    const newDate = day + ' de ' +  + ' de ' + year\r\n     return newDate\r\n   }\r\n \r\n   const [photo, setPhoto] = React.useState(null)\r\n"
                },
                {
                    "date": 1674933814342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n \r\n     //get year\r\n     const year = date.getFullYear().toString()\r\n     console.log(month)\r\n-    const newDate = day + ' de ' +  + ' de ' + year\r\n+    const newDate = day + ' de ' + monthName + ' de ' + year\r\n     return newDate\r\n   }\r\n \r\n   const [photo, setPhoto] = React.useState(null)\r\n"
                },
                {
                    "date": 1674934648326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,23 +76,27 @@\n     const monthName = d.toLocaleString('pt-PT', { month: 'long' })\r\n     return monthName\r\n   }\r\n   // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n-  function handleData(data) {\r\n+\r\n+function handleData(data) {\r\n+  const monthNames = [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\",\r\n+  \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"\r\n+];\r\n+\r\n     const date = new Date(data)\r\n     //get day number\r\n     const day = date.getDate().toString()\r\n     //Get the month name in portuguese, the name\r\n-    const month = date.getMonth() + 1\r\n-    const monthName = getMonthName(month)\r\n+    const month = date.getMonth()\r\n+    const monthName = monthNames[month]\r\n \r\n     //get year\r\n     const year = date.getFullYear().toString()\r\n     console.log(month)\r\n-    const newDate = day + ' de ' + monthName + ' de ' + year\r\n+    const newDate = `${day} de ${monthName} de ${year}`\r\n     return newDate\r\n   }\r\n-\r\n   const [photo, setPhoto] = React.useState(null)\r\n   const [hasGalleryPermission, setHasGalleryPermission] = React.useState(null)\r\n   const [pickedImage, setPickedImage] = React.useState(null)\r\n   // use effect to get permission to access gallery\r\n"
                }
            ],
            "date": 1669629045649,
            "name": "Commit-0",
            "content": "import {\r\n  View,\r\n  Text,\r\n  Image,\r\n  useWindowDimensions,\r\n  SafeAreaView,\r\n  Button,\r\n  StyleSheet,\r\n  Platform,\r\n} from \"react-native\";\r\nimport React from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { COLORS, SHADOWS, SIZES } from \"../constants\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { serverURL } from \"../config/hosts\";\r\nimport { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport { CostumBackButton, CostumButton } from \"../components\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\n\r\nconst createFormData = (photo, user) => {\r\n  console.log(\r\n    \"Create form data: \" + JSON.stringify(photo) + \" \" + JSON.stringify(user)\r\n  );\r\n  const data = new FormData();\r\n  photo.path =\r\n    Platform.OS === \"ios\" ? photo.uri.replace(\"file://\", \"\") : photo.uri;\r\n  photo.name = photo.fileName;\r\n  data.append(\"avatarFile\", photo);\r\n  data.append(\"user\", user);\r\n  console.log(\"\\nDATA: \" + JSON.stringify(data));\r\n  /*\r\n  Object.keys(body).forEach((key) => {\r\n    console.log(\"Create form data: \"+key + \" \" + body[key])\r\n    data.append(key, body[key]);\r\n  });*/\r\n\r\n  return data;\r\n};\r\n\r\nexport default function ProfileScreen({ navigation }) {\r\n  const { height } = useWindowDimensions();\r\n  const [token, setToken] = useState(\"\");\r\n  const [initData, setInitData] = useState(false);\r\n  useEffect(() => {\r\n    AsyncStorage.getItem(\"userToken\")\r\n      .then((userToken) => setToken(JSON.parse(userToken)))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const [data, setData] = useState([]);\r\n  const fetchData = async (token) => {\r\n    //console.log(serverURL + '/users/userProfile/' + token.id)\r\n    const resp = await fetch(`${serverURL}/users/userProfile/${token.id}`);\r\n    const data = await resp.json();\r\n    console.log(\"User fetch data: \" + JSON.stringify(data));\r\n    setData(data);\r\n\r\n    const resp_img = await fetch(`${serverURL}/files/avatar/${token.id}`);\r\n    const img = resp_img.url;\r\n    console.log(\"User fetch img: \" + JSON.stringify(img));\r\n    setPhoto(img);\r\n  };\r\n  // request data from server\r\n  useEffect(() => {\r\n    console.log(\"Entered useEffect\" + token.id);\r\n    if (token.id) {\r\n      fetchData(token);\r\n    }\r\n  }, [token]);\r\n\r\n  function getMonthName(month) {\r\n    const d = new Date();\r\n    d.setMonth(month - 1);\r\n    const monthName = d.toLocaleString(\"pt-PT\", { month: \"long\" });\r\n    return monthName;\r\n  }\r\n  // handleData that converts 1990-10-12T00:00:00.000Z to 12 de Outubro de 1990\r\n  function handleData(data) {\r\n    const date = new Date(data);\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    const newDate = day + \" de \" + getMonthName(month) + \" de \" + year;\r\n    return newDate;\r\n  }\r\n\r\n  const [photo, setPhoto] = React.useState(null);\r\n  const [hasGalleryPermission, setHasGalleryPermission] = React.useState(null);\r\n  const [toupload, setToUpload] = React.useState(false);\r\n  // use effect to get permission to access gallery\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      const galleryStatus =\r\n        await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n      setHasGalleryPermission(galleryStatus.status === \"granted\");\r\n    })();\r\n  }, []);\r\n\r\n  const handleChoosePhoto = async () => {\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n    });\r\n    console.log(\"result handleChoosePhoto: \" + JSON.stringify(result));\r\n    if (!result.cancelled) {\r\n      //handleUploadPhoto()\r\n      //setToUpload(true)\r\n      setPhoto(result);\r\n    }\r\n  };\r\n\r\n  if (hasGalleryPermission === false) {\r\n    return <Text> Sem acesso à galeria </Text>;\r\n  }\r\n\r\n  const handleUploadPhoto = () => {\r\n    console.log(\"IN UPLOAD PHOYO...\");\r\n    console.log(\"handleUploadPhoto \" + JSON.stringify(photo));\r\n    fetch(`${serverURL}/files/avatar/`, {\r\n      method: \"POST\",\r\n      body: createFormData(photo, token.id),\r\n    })\r\n      .then((response) => {\r\n        response.json();\r\n      })\r\n      .then((response) => {\r\n        console.log(\"response\", response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  };\r\n\r\n  /* useEffect photo\r\n  useEffect(() => {\r\n    if (photo!=null){\r\n      console.log('Entered useEffect photo')\r\n      setInitData(true)\r\n    }\r\n  }, [photo])\r\n\r\n  useEffect(() => {\r\n    if (toupload) {\r\n      //handleUploadPhoto()\r\n      setToUpload(false)\r\n    }\r\n  }, [toupload])\r\n\r\n  // init data\r\n  useEffect(() => {\r\n    console.log('Init data: ' + initData)\r\n  }, [initData])*/\r\n\r\n  return (\r\n    //console.log(\"--------------\\nToken data: \"+ JSON.stringify(token) + \"\\n--------------\"),\r\n    // if dataInit is false, show loading\r\n    // !initData ? (\r\n    //   <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n    //     <Text>Loading...</Text>\r\n    //   </View>\r\n    //) : (\r\n    <SafeAreaView style={styles.root}>\r\n      {/*<Image source={{uri: 'https://reactjs.org/logo-og.png'}}\r\n       style={{width: 400, height: 400}} />*/}\r\n      <View style={styles.navigationBar}>\r\n        <CostumBackButton onPress={() => navigation.goBack()} />\r\n        <Text style={styles.pageTitle}>Meu Perfil</Text>\r\n      </View>\r\n      {photo && (\r\n        <>\r\n          <Button title=\"Upload Photo\" onPress={() => handleUploadPhoto()} />\r\n        </>\r\n      )}\r\n\r\n      {/*\r\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n          \r\n          <Button title=\"Choose Photo\" onPress={() => handleChoosePhoto()} />\r\n          {photo && (\r\n            <>\r\n              {console.log(JSON.stringify(photo))}\r\n              \r\n             \r\n              <Image source={{ uri: photo.uri }} style={styles.profileImage} />\r\n               <Image source={{ uri: photo.uri }} style={{ width: 300, height: 300 }} /> \r\n              <Button title=\"Upload Photo\" onPress={() => handleUploadPhoto()} /> \r\n            </>\r\n          )}\r\n        </View>\r\n */}\r\n\r\n      <View style={{ alignSelf: \"center\" }}>\r\n        <View style={styles.profileImage}>\r\n          {photo ? (\r\n            <Image source={{ uri: photo }} style={styles.profileImage} />\r\n          ) : data.gender == 0 ? ( // man\r\n            <Image\r\n              source={require(\"../../assets/images/male-avatar.png\")}\r\n              style={styles.image}\r\n              resizeMode=\"center\"\r\n            ></Image>\r\n          ) : (\r\n            <Image\r\n              source={require(\"../../assets/images/female-avatar.png\")}\r\n              style={styles.image}\r\n              resizeMode=\"center\"\r\n            ></Image>\r\n          )}\r\n        </View>\r\n        {/* TO DO EDIT PICTURE*/}\r\n        <View style={styles.addAvatar}>\r\n          <MaterialCommunityIcons\r\n            name=\"pencil-circle\"\r\n            size={48}\r\n            color={COLORS.wingDarkBlue}\r\n            onPress={() => handleChoosePhoto()}\r\n          />\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.nameContainer}>\r\n        <Text style={{ fontFamily: \"SoraLight\", fontSize: SIZES.extraLarge }}>\r\n          {data ? data.name : \"Loading...\"}\r\n        </Text>\r\n      </View>\r\n\r\n      <View style={styles.infoContainer}>\r\n        <View style={styles.infoLine}>\r\n          <View style={styles.col1}>\r\n            <Text style={styles.textTag}>Email</Text>\r\n          </View>\r\n          <View style={styles.col2}>\r\n            <Text style={styles.textInfo}>\r\n              {data ? data.email : \"Loading...\"}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={styles.col1}>\r\n            <Text style={styles.textTag}>Password</Text>\r\n          </View>\r\n          <View style={styles.col2}>\r\n            <Text style={styles.textInfo}>\r\n              {data ? \".........\" : \"Loading...\"}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={styles.col1}>\r\n            <Text style={styles.textTag}>Aniversário</Text>\r\n          </View>\r\n          <View style={styles.col2}>\r\n            <Text style={styles.textInfo}>\r\n              {data ? handleData(data.birthdate) : \"Loading...\"}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={styles.col1}>\r\n            <Text style={styles.textTag}>Género</Text>\r\n          </View>\r\n          <View style={styles.col2}>\r\n            <Text style={styles.textInfo}>\r\n              {data\r\n                ? data.gender == 0\r\n                  ? \"Masculino\"\r\n                  : \"Feminino\"\r\n                : \"Loading...\"}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.containerBTN}>\r\n        {/*\r\n            <TouchableOpacity onPress={() => navigation.navigate(\"ProfileEdit\")} style={[styles.button,{height: height*0.05}]}>\r\n                <Text style={styles.buttonText}>Editar Perfil</Text>\r\n            </TouchableOpacity> \r\n            */}\r\n        <CostumButton\r\n          onPress={() => navigation.navigate(\"ProfileEdit\")}\r\n          text=\"Editar Perfil\"\r\n          type=\"TERTIARY\"\r\n          widthScale={0.8}\r\n        ></CostumButton>\r\n        <CostumButton\r\n          onPress={() => navigation.navigate(\"PassEdit\")}\r\n          text=\"Alterar Password\"\r\n          type=\"TERTIARY\"\r\n          widthScale={0.8}\r\n        ></CostumButton>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n  //)\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: COLORS.white,\r\n  },\r\n  navigationBar: {\r\n    // in case i wanto to add a button in the right side\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 10,\r\n    marginHorizontal: 10,\r\n    marginBottom: 10,\r\n  },\r\n  image: {\r\n    flex: 1,\r\n    width: undefined,\r\n    height: undefined,\r\n  },\r\n  pageTitle: {\r\n    fontFamily: \"SoraMedium\",\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.wingDarkBlue,\r\n    // center the text\r\n    alignSelf: \"center\",\r\n    // center the text horizontally\r\n    flex: 1,\r\n    textAlign: \"center\",\r\n    right: 20,\r\n  },\r\n  profileImage: {\r\n    width: 200,\r\n    height: 200,\r\n    borderRadius: 100,\r\n    overflow: \"hidden\",\r\n  },\r\n  addAvatar: {\r\n    backgroundColor: COLORS.white,\r\n    position: \"absolute\",\r\n    bottom: 5,\r\n    right: 1,\r\n    height: 50,\r\n    width: 50,\r\n    borderRadius: 30,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  nameContainer: {\r\n    alignSelf: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 16,\r\n  },\r\n  infoContainer: {\r\n    marginHorizontal: 40,\r\n    marginTop: 40,\r\n    marginBottom: 40,\r\n  },\r\n  textTag: {\r\n    fontFamily: \"SoraBold\",\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.wingDarkBlue,\r\n  },\r\n  textInfo: {\r\n    //marginLeft: 30,\r\n    fontFamily: \"SoraLight\",\r\n    fontSize: SIZES.medium,\r\n  },\r\n  infoLine: {\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    alignItems: \"flex-start\", // if you want to fill rows left to right\r\n  },\r\n  col1: {\r\n    width: \"40%\",\r\n    marginBottom: 20,\r\n  },\r\n  col2: {\r\n    width: \"60%\",\r\n    marginBottom: 20,\r\n  },\r\n  button: {\r\n    backgroundColor: COLORS.wingDarkBlue,\r\n    borderRadius: SIZES.small,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    marginBottom: SIZES.base,\r\n    width: \"40%\",\r\n    height: \"80%\",\r\n  },\r\n  containerBTN: {\r\n    // Put the buttons at the bottom of the screen\r\n    //position: 'absolute',\r\n    //alignItems: \"center\",\r\n    //justifyContent: \"center\",\r\n    //bottom: \"10%\",\r\n    //width: \"100%\",\r\n    //  on the vertical center\r\n    flex: 1,\r\n    //justifyContent: 'center',\r\n    alignItems: \"center\",\r\n    marginHorizontal: 30,\r\n  },\r\n  buttonText: {\r\n    color: \"white\",\r\n    fontSize: SIZES.small,\r\n    fontFamily: \"SoraBold\",\r\n  },\r\n});\r\n"
        }
    ]
}